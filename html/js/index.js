function login(){var e={rows:[{},{cols:[{},{view:"form",elements:[{id:"wg_login_login",view:"text",label:"Login",on:{onKeyPress:function(e){13==e&&$$("$psw").focus()}}},{id:"wg_login_psw",view:"text",type:"password",label:"Password",name:"password",on:{onKeyPress:function(e,o){13==e&&$$("wg_login_send").focus()}}},{margin:5,cols:[{view:"button",id:"wg_login_send",value:"Login",type:"form",click:"wg_login_send();"}]}],width:320},{}]},{}],css:{background:"white"}};webix.ui(e).show(),$$("wg_login_login").focus()}function wg_login_send(){""!==$$("wg_login_login").getValue()&&""!==$$("wg_login_psw").getValue()&&webix.ajax().post("api/app/action",{action:"authorization",login:$$("wg_login_login").getValue(),psw:$$("wg_login_psw").getValue()},{error:function(){webix.message({text:"Неправильный логин или пароль",type:"error",expire:3e3})},success:function(e,o,n){"ok"==(o=o.json()).status?window.location.pathname="agrobase":webix.message({text:o.err,type:"error",expire:3e3})}})}